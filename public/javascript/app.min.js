function getTrips(){$.getJSON(TRIPS_URL,{format:"json"}).done(function(n){n.map(function(n){renderTripList(n)});getAndDisplayTrip(n[0])})}function renderTripHeader(n){var a='  \n    <div class="trip-header__photo-container">\n      <img src="'+n.media[0].file+'" alt="'+n.media[0].caption+'" class="trip-header__photo">\n    </div>\n    <article class="trip-header__info">\n      <h2 class="heading--x-large">'+n.title+'</h2>\n      <div class="user-profile">\n        <p class="user-profile__name">\n          Traveler: Brenda Storer, New York City\n        </p>\n      </div>\n      <p class="trip__description">'+n.description+'</p>\n      <ul class="trips-list__interests">\n        '+n.interests.map(function(n){return'<li class="tag">'+n+"</li>"}).join(" ")+"\n      </ul>\n    </article>\n  ";$(".js-trip-header").prepend(a)}function renderCalendarDays(n){var a=moment(n.calendarDate).format("dddd"),s=moment(n.calendarDate).format("MMM D"),e='\n    <a href="#" class="trip-calendar__day" data-day="'+n.calendarDate+'">\n      <span class="heading--small-caps">\n        '+a+'\n      </span>\n      <span class="trip-calendar__date">\n        '+s+"\n      </span>\n    </a>\n  ";$(".js-trip-calendar").append(e)}function renderTripDay(n){var a='\n    <aside class="trip-day__sidebar">\n      <section class="trip-day__sidebar-section">\n        <h3 class="heading--small-caps">Places</h3>\n        <h4 class="heading--medium">'+n.days[0].locations[0].name+", "+n.days[0].locations[0].country+'</h4>\n        <a href="#" class="modal__link">\n          '+n.days[0].locations[0].sites[0].name+'\n        </a>\n        <a href="#" class="modal__link">\n          '+n.days[0].locations[0].sites[1].name+'\n        </a>\n      </section>\n      <section class="trip-day__sidebar-section">\n        <h3 class="heading--small-caps">Lodging</h3>\n        <a href="#" class="modal__link">\n          '+n.days[0].locations[0].sites[2].name+"<br>\n          "+n.days[0].locations[0].sites[2].address+'\n        </a>\n      </section>\n      <section class="trip-day__sidebar-section">\n        <h3 class="heading--small-caps">Travel Details</h3>\n        '+n.days[0].travelDetails+'\n      </section>\n    </aside>\n    <article class="trip-day__diary">\n      '+n.days[0].diaryEntry+'\n      <div class="trip-slideshow js-trip-slideshow"></div>\n    </article>\n  ';$(".js-trip-day").prepend(a)}function renderTripPhotos(n){var a='\n    <img src="'+n.file+'" alt="'+n.caption+'" class="trip-slideshow__photo">\n  ';$(".js-trip-slideshow").append(a)}function displayCalendarDays(n){n.days.map(function(n){renderCalendarDays(n)})}function displayTripPhotos(n){n.media.map(function(n){renderTripPhotos(n)})}function getAndDisplayTrip(n){renderTripHeader(n),displayCalendarDays(n),renderTripDay(n),displayTripPhotos(n)}function renderTripList(n){var a=moment(n.startDate).format("LL"),s=moment(n.endDate).format("LL"),e='\n    <li class="trips-list__trip">\n      <a href="'+n.tripUrl+'" class="trips-list__link">\n        <div class="trips-list__photo-container">\n          <img src="'+n.media[0].file+'" alt="'+n.media[0].caption+'" class="trips-list__photo">\n        </div>\n        <article class="trips-list__info">\n          <header class="trips-list__header">\n            <h2 class="heading--large">'+n.title+"</h2>\n          </header>\n          <p>"+a+" &ndash; "+s+'</p>\n          <p class="trips-list__description">'+n.description+'</p>\n          <ul class="trips-list__interests">\n            '+n.interests.map(function(n){return'<li class="tag">'+n+"</li>"}).join(" ")+"\n          </ul>\n        </article>\n      </a>\n    </li>\n  ";$(".js-trips-list").append(e)}$(function(){getTrips()}),$(document).ready(function(){$(".js-add-interests").click(function(n){n.preventDefault(),$(this).before('\n    <input type="text" name="interests[]" placeholder=\'e.g. "hiking"\' />\n    <input type="text" name="interests[]" placeholder=\'e.g. "museums"\' />\n  ')}),$(".js-add-media").click(function(n){n.preventDefault(),$(this).before('\n    <input type="text" name="media[].file" placeholder=\'Add link to self hosted image file\'/>\n  ')})});var TRIPS_URL="/trips";